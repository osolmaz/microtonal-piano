(this["webpackJsonpreact-piano-demo"]=this["webpackJsonpreact-piano-demo"]||[]).push([[0],{31:function(t,e,n){t.exports=n(79)},36:function(t,e,n){},37:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(21),r=n.n(i),s=(n(36),n(3)),c=n(4),l=n(7),u=n(6),p=n(8);n(37);var h=function(){return o.a.createElement("div",{style:{background:"#333"}},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-sm-center text-white py-5"},o.a.createElement("h1",null,"Microtonal Piano"),o.a.createElement("p",null,"A Digital Instrument Inspired by the"," ",o.a.createElement("a",{target:"_blank",href:"https://en.wikipedia.org/wiki/Qanun_(instrument)"},"Kanun")))))};var d=function(t){return o.a.createElement("div",{className:"bg-yellow mt-5 py-5"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-center text-secondary"},"Made with"," ",o.a.createElement("span",{role:"img","aria-label":"keyboard emoji"},"\ud83c\udfb5")," ","by"," ",o.a.createElement("a",{className:"text-secondary",href:"https://github.com/osolmaz/"},o.a.createElement("strong",null,"@osolmaz"))," ","building upon"," ",o.a.createElement("a",{className:"text-secondary",href:"https://github.com/kevinqi/react-piano/"},o.a.createElement("strong",null,"react-piano"))," ","by"," ",o.a.createElement("a",{className:"text-secondary",href:"https://www.kevinqi.com/"},o.a.createElement("strong",null,"@kevinsqi")))))},f=n(10),m=n.n(f),g=n(2),y=n.n(g),v=n(1),b=n.n(v),N=n(12),w=n.n(N),k=n(14),E=n(22),S=n(15),R=n.n(S);function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function C(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?q(t):e}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=t[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!e||n.length!==e);a=!0);}catch(c){o=!0,i=c}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var V=57,F=440,U=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],W=["Db","Eb","Gb","Ab","Bb"],B={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},H=12,z=H,G=127,Q=/([a-g])([#b]?)(\d+)/,Y=12;var J=m()(z,G+1).reduce((function(t,e){return t[e]=function(t){var e=(t-H)%Y,n=Math.floor((t-H)/Y),a=U[e];return{note:"".concat(a).concat(n),pitchName:a,octave:n,midiNumber:t,isAccidental:W.includes(a)}}(e),t}),{});function X(t){var e=J[t];if(!e)throw Error("Invalid MIDI number");return e}var Z=m()(z,G+1).filter((function(t){return!X(t).isAccidental}));function $(t,e,n){var a=t-V,o=n.keys.length,i=a%o;return i<0&&(i+=o),n.keys[i].pitch+e*n.switchInterval}function tt(t,e,n){var a=t-V,o=n.keys.length,i=Math.floor(a/o),r=$(t,e,n);return V+12*i+r/100}var et={fromNote:function(t){if(!t)throw Error("Invalid note argument");var e=Q.exec(t.toLowerCase());if(!e)throw Error("Invalid note argument");var n=K(e,4),a=n[1],o=n[2],i=n[3],r="".concat(a.toUpperCase()).concat(o),s=B[r];if(null==s)throw Error("Invalid note argument");return H+s+Y*parseInt(i,10)},getAttributes:X,MIN_MIDI_NUMBER:z,MAX_MIDI_NUMBER:G,NATURAL_MIDI_NUMBERS:Z,getKeyIndexOctave:function(t,e){var n=t-V,a=e.keys.length,o=n%a;return o<0&&(o+=a),{keyIndex:o,octave:Math.floor(n/a)}},getCentValueForNote:$,getMidiNumberForNote:tt,getFrequencyForNote:function(t,e,n){var a=tt(t,e,n),o=n.keys.length;return F*Math.pow(2,(a-V)/o)}},nt=E;function at(t,e,n,a,o){var i,r,s;return o?"#3ac8da":(i=a||"#f3f3f3",0===t?i:(t<0?(r="#0000ff",s=Math.abs(e)+1):(r="#ff0000",s=n+1),nt([i,r]).rgb(s)[Math.abs(t)]))}var ot=function(t){function e(t){var n;return O(this,e),j(q(n=D(this,M(e).call(this,t))),"onPlayNoteInput",(function(){n.props.onPlayNoteInput([n.props.midiNumber,n.getSwitchVal()])})),j(q(n),"onStopNoteInput",(function(){n.props.onStopNoteInput([n.props.midiNumber,n.getSwitchVal()])})),n.switchRef=y.a.createRef(),n}return T(e,t),C(e,[{key:"getAbsoluteKeyPosition",value:function(t){this.props.tuning.keys.length;var e=et.getKeyIndexOctave(t,this.props.tuning),n=e.keyIndex,a=e.octave;return this.props.tuning.keys[n].position+a}},{key:"getTotalLength",value:function(){var t=et.getKeyIndexOctave(this.props.noteRange.last,this.props.tuning),e=t.keyIndex,n=(t.octave,this.props.tuning.keys[e].widthRatio);return this.getAbsoluteKeyPosition(this.props.noteRange.last)-this.getAbsoluteKeyPosition(this.props.noteRange.first)+n}},{key:"getTotalCount",value:function(){return this.props.noteRange.last-this.props.noteRange.first}},{key:"getRelativeKeyPosition",value:function(t){return(this.getAbsoluteKeyPosition(t)-this.getAbsoluteKeyPosition(this.props.noteRange.first))/this.getTotalLength()}},{key:"getSwitchVal",value:function(){return this.props.switchValues[this.props.midiNumber]}},{key:"render",value:function(){var t=this,e=this.props,n=(e.naturalKeyWidth,e.accidentalWidthRatio,e.midiNumber),a=e.gliss,o=e.useTouchEvents,i=e.active,r=e.disabled,s=e.children,c=et.getKeyIndexOctave(n,this.props.tuning),l=(c.keyIndex,c.octave,this.props.keyInfo.widthRatio||1),u=this.getRelativeKeyPosition(n),p=l/this.getTotalLength(),h=.3*(this.getTotalLength()/this.getTotalCount())/l;return y.a.createElement("div",{style:{left:it(u),width:it(p),height:"17rem",display:"inline-block",verticalAlign:"top"}},y.a.createElement(k.Range,{className:"ReactPiano__KeyMicrotonalSwitch rounded-lg",step:1,min:-6,max:6,values:[this.getSwitchVal()],onChange:function(e){t.props.onSwitchChange(t.props.midiNumber,e[0])},renderMark:function(t){var e=t.props,n=t.index;return y.a.createElement("div",x({},e,{style:P({},e.style,{height:0===n||12===n?"0px":"2px",width:6===n?"180%":"100%",backgroundColor:"#999"})}))},direction:k.Direction.Up,renderTrack:function(e){var n=e.props,a=e.children;return y.a.createElement("div",x({},n,{style:P({},n.style,{height:"40%",width:it(h),margin:"auto",backgroundColor:"accidental1"===t.props.keyInfo.type?"#555":"#ccc",marginBottom:"1rem",borderRadius:"3px",boxShadow:"1px 1px 3px #777"}),onMouseDown:function(t){t.preventDefault()}}),a)},renderThumb:function(t){var e=t.props;return y.a.createElement("div",x({},e,{style:P({},e.style,{height:"8%",width:"210%",backgroundColor:"#478ca6",borderRadius:"2px",boxShadow:"1px 1px 2px #444"})}))},ref:this.switchRef}),y.a.createElement("div",{className:w()("ReactPiano__Key",{"ReactPiano__Key--accidental":"accidental1"===this.props.keyInfo.type,"ReactPiano__Key--natural":"accidental1"!==this.props.keyInfo.type,"ReactPiano__Key--disabled":r,"ReactPiano__Key--active":i}),style:{left:it(u),width:it(p),background:at(this.getSwitchVal(),-6,6,this.props.keyInfo.color,i)},onMouseDown:o?null:this.onPlayNoteInput,onMouseUp:o?null:this.onStopNoteInput,onMouseEnter:a?this.onPlayNoteInput:null,onMouseLeave:this.onStopNoteInput,onTouchStart:o?this.onPlayNoteInput:null,onTouchCancel:o?this.onStopNoteInput:null,onTouchEnd:o?this.onStopNoteInput:null},y.a.createElement("div",{className:"ReactPiano__NoteLabelContainer"},s)))}}]),e}(y.a.Component);function it(t){return"".concat(100*t,"%")}j(ot,"propTypes",{midiNumber:b.a.number.isRequired,naturalKeyWidth:b.a.number.isRequired,gliss:b.a.bool.isRequired,useTouchEvents:b.a.bool.isRequired,accidental:b.a.bool.isRequired,active:b.a.bool.isRequired,disabled:b.a.bool.isRequired,onPlayNoteInput:b.a.func.isRequired,onStopNoteInput:b.a.func.isRequired,onSwitchChange:b.a.func.isRequired,children:b.a.node});var rt=function(t){function e(){return O(this,e),D(this,M(e).apply(this,arguments))}return T(e,t),C(e,[{key:"getMidiNumbers",value:function(){return m()(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"getNaturalKeyCount",value:function(){return this.getMidiNumbers().filter((function(t){et.getAttributes(t).isAccidental;return!0})).length}},{key:"getNaturalKeyWidth",value:function(){return 1/this.getNaturalKeyCount()}},{key:"getWidth",value:function(){return this.props.width?this.props.width:"100%"}},{key:"getHeight",value:function(){if(!this.props.width)return"100%";var t=this.props.width*this.getNaturalKeyWidth();return"1.5*".concat(t/this.props.keyWidthToHeight,"px")}},{key:"render",value:function(){var t=this,e=this.getNaturalKeyWidth();return y.a.createElement("div",{className:w()("ReactPiano__Keyboard",this.props.className),style:{width:this.getWidth(),height:this.getHeight()}},this.getMidiNumbers().map((function(n){var a=et.getAttributes(n),o=(a.note,a.isAccidental),i=et.getKeyIndexOctave(n,t.props.tuning),r=i.keyIndex,s=(i.octave,!t.props.disabled&&(t.props.activeNotes.map((function(t){return t[0]})).includes(n)||t.props.activeNotes.includes(n)));return y.a.createElement(y.a.Fragment,null,y.a.createElement(ot,{naturalKeyWidth:e,midiNumber:n,noteRange:t.props.noteRange,active:s,disabled:t.props.disabled,onPlayNoteInput:t.props.onPlayNoteInput,onStopNoteInput:t.props.onStopNoteInput,onSwitchChange:t.props.onSwitchChange,switchValues:t.props.switchValues,gliss:t.props.gliss,useTouchEvents:t.props.useTouchEvents,key:n,tuning:t.props.tuning,keyInfo:t.props.tuning.keys[r]},t.props.disabled?null:t.props.renderNoteLabel({isActive:s,isAccidental:o,midiNumber:n})))})))}}]),e}(y.a.Component);function st(t){return"number"===typeof t&&et.NATURAL_MIDI_NUMBERS.includes(t)}j(rt,"propTypes",{noteRange:function(t,e,n){var a=t[e],o=a.first,i=a.last;if(!o||!i)return new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," must be an object with .first and .last values."));if(!st(o)||!st(i))return new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e," values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes)."));if(o>=i)return new Error("Invalid prop ".concat(e," supplied to ").concat(n,". ").concat(e,".first must be smaller than ").concat(e,".last."))},activeNotes:b.a.arrayOf(b.a.number),onPlayNoteInput:b.a.func.isRequired,onStopNoteInput:b.a.func.isRequired,onSwitchChange:b.a.func.isRequired,renderNoteLabel:b.a.func.isRequired,keyWidthToHeight:b.a.number.isRequired,className:b.a.string,disabled:b.a.bool,gliss:b.a.bool,useTouchEvents:b.a.bool,width:b.a.number}),j(rt,"defaultProps",{disabled:!1,gliss:!1,useTouchEvents:!1,keyWidthToHeight:.33,renderNoteLabel:function(){}});var ct=function(t){function e(t){var n;O(this,e),j(q(n=D(this,M(e).call(this,t))),"onSwitchChange",(function(t,e){var a=n.state.switchValues;for(var o in a)(o-t)%n.props.tuning.keys.length===0&&(a[o]=e);n.setState({switchValues:a})})),j(q(n),"handleNoteChanges",(function(t){var e=t.prevActiveNotes,a=t.nextActiveNotes;if(!n.props.disabled){var o=R()(e,a);R()(a,e).forEach((function(t){t%1===0&&(t=[t,n.state.switchValues[t]]),n.props.playNote(t)})),o.forEach((function(t){t%1===0&&(t=[t,n.state.switchValues[t]]),n.props.stopNote(t)}))}})),j(q(n),"getMidiNumberForKey",(function(t){if(!n.props.keyboardShortcuts)return null;var e=n.props.keyboardShortcuts.find((function(e){return e.key===t}));return e&&e.midiNumber})),j(q(n),"getKeyForMidiNumber",(function(t){if(!n.props.keyboardShortcuts)return null;var e=n.props.keyboardShortcuts.find((function(e){return e.midiNumber===t}));return e&&e.key})),j(q(n),"onKeyDown",(function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||t.repeat)){console.log("Pressed",t);var e=n.getMidiNumberForKey(t.key);e&&n.onPlayNoteInput([e,n.state.switchValues[e]])}})),j(q(n),"onKeyUp",(function(t){var e=n.getMidiNumberForKey(t.key);e&&n.onStopNoteInput([e,n.state.switchValues[e]])})),j(q(n),"onPlayNoteInput",(function(t){n.props.disabled||n.props.onPlayNoteInput(t,n.props.activeNotes)})),j(q(n),"onStopNoteInput",(function(t){n.props.disabled||n.props.onStopNoteInput(t,n.props.activeNotes)})),j(q(n),"onMouseDown",(function(){n.setState({isMouseDown:!0})})),j(q(n),"onMouseUp",(function(){n.setState({isMouseDown:!1})})),j(q(n),"onTouchStart",(function(){n.setState({useTouchEvents:!0})})),j(q(n),"renderNoteLabel",(function(t){var e,a=t.midiNumber,o=t.isActive,i=t.isAccidental,r=n.getKeyForMidiNumber(a),s=n.state.switchValues[a],c=et.getKeyIndexOctave(a,n.props.tuning).keyIndex,l=n.props.tuning.keys[c];l.step&&(e=l.step+s);var u=et.getCentValueForNote(a,s,n.props.tuning),p=et.getFrequencyForNote(a,s,n.props.tuning).toFixed(1);return y.a.createElement("div",{className:w()("ReactPiano__NoteLabel",{"ReactPiano__NoteLabel--active":o,"ReactPiano__NoteLabel--accidental":i,"ReactPiano__NoteLabel--natural":!i})},n.props.showSteps?y.a.createElement("div",{className:"text-xs"},e):null,n.props.showCents?y.a.createElement("div",{className:"text-xs"},Math.round(u)):null,n.props.showFrequencies?y.a.createElement("div",{className:"text-xxs"},p):null,r||null)}));var a={},o=!0,i=!1,r=void 0;try{for(var s,c=m()(0,1e3)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){a[s.value]=0}}catch(l){i=!0,r=l}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n.state={isMouseDown:!1,useTouchEvents:!1,switchValues:a,initialSwitchValues:t.initialSwitchValues},n}return T(e,t),C(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.props.initialSwitchValues&&(this.setSwitchValues(this.props.initialSwitchValues),console.log(this.props.initialSwitchValues))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"componentDidUpdate",value:function(t,e){this.props.activeNotes!==t.activeNotes&&this.handleNoteChanges({prevActiveNotes:t.activeNotes||[],nextActiveNotes:this.props.activeNotes||[]}),this.state.initialSwitchValues!==this.props.initialSwitchValues&&(this.setSwitchValues(this.props.initialSwitchValues),this.setState({initialSwitchValues:this.props.initialSwitchValues}))}},{key:"setSwitchValues",value:function(t){var e={},n=!0,a=!1,o=void 0;try{for(var i,r=this.getMidiNumbers()[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){e[i.value]=0}}catch(v){a=!0,o=v}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}for(var s=0,c=Object.entries(t);s<c.length;s++){var l=K(c[s],2),u=l[0],p=l[1],h=!0,d=!1,f=void 0;try{for(var m,g=this.getMidiNumbers()[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var y=m.value;u%this.props.tuning.keys.length===y%this.props.tuning.keys.length&&(e[y]=p)}}catch(v){d=!0,f=v}finally{try{h||null==g.return||g.return()}finally{if(d)throw f}}}console.log("SWITCH VALUES:",e),this.setState({switchValues:e})}},{key:"getMidiNumbers",value:function(){return m()(this.props.noteRange.first,this.props.noteRange.last+1)}},{key:"render",value:function(){return y.a.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,"data-testid":"container"},y.a.createElement(rt,{noteRange:this.props.noteRange,onPlayNoteInput:this.onPlayNoteInput,onStopNoteInput:this.onStopNoteInput,onSwitchChange:this.onSwitchChange,switchValues:this.state.switchValues,activeNotes:this.props.activeNotes,className:this.props.className,disabled:this.props.disabled,width:this.props.width,keyWidthToHeight:this.props.keyWidthToHeight,gliss:this.state.isMouseDown,useTouchEvents:this.state.useTouchEvents,renderNoteLabel:this.renderNoteLabel,tuning:this.props.tuning}))}}]),e}(y.a.Component);j(ct,"propTypes",{noteRange:b.a.object.isRequired,activeNotes:b.a.arrayOf(b.a.number.isRequired).isRequired,playNote:b.a.func.isRequired,stopNote:b.a.func.isRequired,onPlayNoteInput:b.a.func.isRequired,onStopNoteInput:b.a.func.isRequired,renderNoteLabel:b.a.func.isRequired,className:b.a.string,disabled:b.a.bool,width:b.a.number,keyWidthToHeight:b.a.number,keyboardShortcuts:b.a.arrayOf(b.a.shape({key:b.a.string.isRequired,midiNumber:b.a.number.isRequired}))});var lt=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))},ut=function(t){function e(){var t,n;O(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return j(q(n=D(this,(t=M(e)).call.apply(t,[this].concat(o)))),"state",{activeNotes:n.props.activeNotes||[]}),j(q(n),"handlePlayNoteInput",(function(t){n.setState((function(e){return n.props.onPlayNoteInput&&n.props.onPlayNoteInput(t,{prevActiveNotes:e.activeNotes}),e.activeNotes.includes(t)?null:{activeNotes:e.activeNotes.concat([t])}}))})),j(q(n),"handleStopNoteInput",(function(t){n.setState((function(e){return n.props.onStopNoteInput&&n.props.onStopNoteInput(t,{prevActiveNotes:n.state.activeNotes}),{activeNotes:e.activeNotes.filter((function(e){return!lt(t,e)}))}}))})),n}return T(e,t),C(e,[{key:"componentDidUpdate",value:function(t){t.activeNotes!==this.props.activeNotes&&this.state.activeNotes!==this.props.activeNotes&&this.setState({activeNotes:this.props.activeNotes||[]})}},{key:"render",value:function(){var t=this.props,e=(t.activeNotes,t.onPlayNoteInput,t.onStopNoteInput,L(t,["activeNotes","onPlayNoteInput","onStopNoteInput"]));return y.a.createElement(ct,x({activeNotes:this.state.activeNotes,onPlayNoteInput:this.handlePlayNoteInput,onStopNoteInput:this.handleStopNoteInput,ref:this.controlledPiano},e))}}]),e}(y.a.Component);j(ut,"propTypes",{noteRange:b.a.object.isRequired,activeNotes:b.a.arrayOf(b.a.number.isRequired),playNote:b.a.func.isRequired,stopNote:b.a.func.isRequired,onPlayNoteInput:b.a.func,onStopNoteInput:b.a.func,renderNoteLabel:b.a.func,className:b.a.string,disabled:b.a.bool,width:b.a.number,keyWidthToHeight:b.a.number,keyboardShortcuts:b.a.arrayOf(b.a.shape({key:b.a.string.isRequired,midiNumber:b.a.number.isRequired}))});var pt={create:function(t){for(var e=t.firstNote,n=t.lastNote,a=t.keyboardConfig,o=e,i=0,r=[];i<a.length&&o<=n;){var s=a[i];et.getAttributes(o).isAccidental?r.push({key:s.flat,midiNumber:o}):(r.push({key:s.natural,midiNumber:o}),i+=1),o+=1}return r},BOTTOM_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"}],HOME_ROW:[{natural:"a",flat:"q",sharp:"w"},{natural:"s",flat:"w",sharp:"e"},{natural:"d",flat:"e",sharp:"r"},{natural:"f",flat:"r",sharp:"t"},{natural:"g",flat:"t",sharp:"y"},{natural:"h",flat:"y",sharp:"u"},{natural:"j",flat:"u",sharp:"i"},{natural:"k",flat:"i",sharp:"o"},{natural:"l",flat:"o",sharp:"p"},{natural:";",flat:"p",sharp:"["},{natural:"'",flat:"[",sharp:"]"}],QWERTY_ROW:[{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}],DOUBLE_ROW:[{natural:"z",flat:"a",sharp:"s"},{natural:"x",flat:"s",sharp:"d"},{natural:"c",flat:"d",sharp:"f"},{natural:"v",flat:"f",sharp:"g"},{natural:"b",flat:"g",sharp:"h"},{natural:"n",flat:"h",sharp:"j"},{natural:"m",flat:"j",sharp:"k"},{natural:",",flat:"k",sharp:"l"},{natural:".",flat:"l",sharp:";"},{natural:"/",flat:";",sharp:"'"},{natural:"q",flat:"1",sharp:"2"},{natural:"w",flat:"2",sharp:"3"},{natural:"e",flat:"3",sharp:"4"},{natural:"r",flat:"4",sharp:"5"},{natural:"t",flat:"5",sharp:"6"},{natural:"y",flat:"6",sharp:"7"},{natural:"u",flat:"7",sharp:"8"},{natural:"i",flat:"8",sharp:"9"},{natural:"o",flat:"9",sharp:"0"},{natural:"p",flat:"0",sharp:"-"},{natural:"[",flat:"-",sharp:"="}]},ht=n(23),dt=n.n(ht),ft=n(24),mt=n.n(ft),gt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.children({containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight}))}}]),e}(o.a.Component),yt=mt()()(gt),vt=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={instrumentList:null},n.loadInstrumentList=function(){fetch("".concat(n.props.hostname,"/").concat(n.props.soundfont,"/names.json")).then((function(t){return t.json()})).then((function(t){n.setState({instrumentList:t})}))},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.loadInstrumentList()}},{key:"render",value:function(){return this.props.render(this.state.instrumentList)}}]),e}(o.a.Component);vt.defaultProps={soundfont:"MusyngKite"};var bt=vt,Nt=n(11),wt=n(25),kt=n.n(wt),Et=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).loadInstrument=function(t){n.setState({instrument:null}),kt.a.instrument(n.props.audioContext,t,{format:n.props.format,soundfont:n.props.soundfont,nameToUrl:function(t,e,a){return"".concat(n.props.hostname,"/").concat(e,"/").concat(t,"-").concat(a,".js")}}).then((function(t){n.setState({instrument:t})}))},n.playNote=function(t){n.resumeAudio().then((function(){var e=n.state.instrument.play(t);n.setState({activeAudioNodes:Object.assign({},n.state.activeAudioNodes,Object(Nt.a)({},t,e))})}))},n.stopNote=function(t){n.resumeAudio().then((function(){n.state.activeAudioNodes[t]&&(n.state.activeAudioNodes[t].stop(),n.setState({activeAudioNodes:Object.assign({},n.state.activeAudioNodes,Object(Nt.a)({},t,null))}))}))},n.resumeAudio=function(){return"suspended"===n.props.audioContext.state?n.props.audioContext.resume():Promise.resolve()},n.stopAllNotes=function(){n.props.audioContext.resume().then((function(){Object.values(n.state.activeAudioNodes).forEach((function(t){t&&t.stop()})),n.setState({activeAudioNodes:{}})}))},n.state={activeAudioNodes:{},instrument:null},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.loadInstrument(this.props.instrumentName)}},{key:"componentDidUpdate",value:function(t,e){if(t.instrumentName!==this.props.instrumentName&&this.loadInstrument(this.props.instrumentName),e.instrument!==this.state.instrument){if(!this.props.onLoad)return;this.props.onLoad({playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes})}}},{key:"render",value:function(){return this.props.render?this.props.render({isLoading:!this.state.instrument,playNote:this.playNote,stopNote:this.stopNote,stopAllNotes:this.stopAllNotes}):null}}]),e}(o.a.Component);Et.defaultProps={format:"mp3",soundfont:"MusyngKite",instrumentName:"choir_aahs"};var St=Et,Rt=n(30),Ot=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).onChange=function(t){n.props.onChange(t),n.selectRef.current.blur()},n.selectRef=o.a.createRef(),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=(t.onChange,Object(Rt.a)(t,["children","onChange"]));return o.a.createElement("select",Object.assign({},n,{onChange:this.onChange,ref:this.selectRef}),e)}}]),e}(o.a.Component);function It(t){return o.a.createElement("small",{className:"mb-1 text-muted"},t.children)}var Ct=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).handleKeyDown=function(t){var e=n.props.config.noteRange.last-n.props.config.noteRange.first+1-n.props.keyboardShortcuts.length;if("ArrowLeft"===t.key){var a=n.props.config.keyboardShortcutOffset-1;a>=0&&n.props.setConfig({keyboardShortcutOffset:a})}else if("ArrowRight"===t.key){var o=n.props.config.keyboardShortcutOffset+1;o<=e&&n.props.setConfig({keyboardShortcutOffset:o})}},n.onChangeFirstNote=function(t){n.props.setConfig({noteRange:{first:parseInt(t.target.value,10),last:n.props.config.noteRange.last}})},n.onChangeLastNote=function(t){n.props.setConfig({noteRange:{first:n.props.config.noteRange.first,last:parseInt(t.target.value,10)}})},n.onChangeInstrument=function(t){n.props.setConfig({instrumentName:t.target.value})},n.onChangeShowSteps=function(t){n.props.setConfig({showSteps:t.target.checked})},n.onChangeShowCents=function(t){n.props.setConfig({showCents:t.target.checked})},n.onChangeShowFrequencies=function(t){n.props.setConfig({showFrequencies:t.target.checked})},n.onChangeTuning=function(t){n.props.setConfig({tuning:n.props.tuningList.find((function(e){return e.name===t.target.value}))})},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var t=et.NATURAL_MIDI_NUMBERS.reduce((function(t,e){return t[e]=et.getAttributes(e).note,t}),{}),e=this.props.config,n=e.noteRange,a=e.instrumentName,i=e.tuningName,r=e.showSteps,s=e.showCents,c=e.showFrequencies;return o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col-6"},o.a.createElement(It,null,"Tuning"),o.a.createElement(Ot,{className:"form-control",value:i,onChange:this.onChangeTuning},this.props.tuningList.map((function(t){return o.a.createElement("option",{value:t.name,key:t.name},t.name)})))),o.a.createElement("div",{className:"col-3"},o.a.createElement(It,null,"First note"),o.a.createElement(Ot,{className:"form-control",onChange:this.onChangeFirstNote,value:n.first},et.NATURAL_MIDI_NUMBERS.map((function(e){return o.a.createElement("option",{value:e,disabled:e>=n.last,key:e},t[e])})))),o.a.createElement("div",{className:"col-3"},o.a.createElement(It,null,"Last note"),o.a.createElement(Ot,{className:"form-control",onChange:this.onChangeLastNote,value:n.last},et.NATURAL_MIDI_NUMBERS.map((function(e){return o.a.createElement("option",{value:e,disabled:e<=n.first,key:e},t[e])})))),o.a.createElement("div",{className:"col-12 mt-2"},o.a.createElement(It,null,"Description"),o.a.createElement("p",{className:"text-muted"},this.props.config.tuning.description)),o.a.createElement("div",{className:"col-6"},o.a.createElement(It,null,"Instrument"),o.a.createElement(Ot,{className:"form-control",value:a,onChange:this.onChangeInstrument},this.props.instrumentList.map((function(t){return o.a.createElement("option",{value:t,key:t},t)})))),o.a.createElement("div",{className:"col-12"},o.a.createElement(It,null,"Display"),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"checkbox",checked:r,onChange:this.onChangeShowSteps,id:"showStepsCheckbox"}),o.a.createElement("label",{className:"form-check-label inline-block",for:"showStepsCheckbox"},"Steps from base note")),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"checkbox",checked:s,onChange:this.onChangeShowCents,id:"showCentsCheckbox"}),o.a.createElement("label",{className:"form-check-label inline-block",for:"showCentsCheckbox"},"Cents from base note")),o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",type:"checkbox",checked:c,onChange:this.onChangeShowFrequencies,id:"showFrequenciesCheckbox"}),o.a.createElement("label",{className:"form-check-label inline-block",for:"showFrequenciesCheckbox"},"Note frequency"))),o.a.createElement("div",{className:"col mt-2"},o.a.createElement("small",{className:"text-muted"},"Use ",o.a.createElement("strong",null,"left arrow")," and ",o.a.createElement("strong",null,"right arrow")," to move the keyboard shortcuts around.")))}}]),e}(o.a.Component),jt=new window.AudioContext,xt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,t),console.log(e),this.audioContext=e.audioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=e.gain,this.gainNode.connect(this.audioContext.destination),this.oscillators={}}return Object(c.a)(t,[{key:"start",value:function(t){if(!this.oscillators[t]){var e=this.audioContext.createOscillator();e.type="sine",e.frequency.value=t,e.connect(this.gainNode),e.start(0),this.oscillators[t]=e}}},{key:"stop",value:function(t){this.oscillators[t]&&(this.oscillators[t].stop(0),this.oscillators[t].disconnect(),delete this.oscillators[t])}}]),t}(),At=n(9);n(26),n(63);var Pt=[{type:"main",widthRatio:1/7,position:0},{type:"accidental1",widthRatio:.8/7,position:.85/7,color:"#999999"},{type:"main",widthRatio:1/7,position:1/7},{type:"main",widthRatio:1/7,position:2/7},{type:"accidental1",widthRatio:.8/7,position:2.55/7,color:"#999999"},{type:"main",widthRatio:1/7,position:3/7},{type:"accidental1",widthRatio:.8/7,position:3.8/7,color:"#999999"},{type:"main",widthRatio:1/7,position:4/7},{type:"main",widthRatio:1/7,position:5/7},{type:"accidental1",widthRatio:.8/7,position:5.5/7,color:"#999999"},{type:"main",widthRatio:1/7,position:6/7},{type:"accidental1",widthRatio:.8/7,position:6.7/7,color:"#999999"}],Tt=[{type:"main",widthRatio:1/15.75,position:0},{type:"main",widthRatio:1/15.75,position:1/15.75,color:"#999999"},{type:"main",widthRatio:.75/15.75,position:2/15.75,color:"#d3d3d3"},{type:"main",widthRatio:1/15.75,position:2.75/15.75},{type:"main",widthRatio:1/15.75,position:3.75/15.75},{type:"main",widthRatio:.75/15.75,position:4.75/15.75,color:"#d3d3d3"},{type:"main",widthRatio:1/15.75,position:5.5/15.75,color:"#999999"},{type:"main",widthRatio:1/15.75,position:6.5/15.75},{type:"main",widthRatio:1/15.75,position:7.5/15.75,color:"#999999"},{type:"main",widthRatio:.75/15.75,position:8.5/15.75,color:"#d3d3d3"},{type:"main",widthRatio:1/15.75,position:9.25/15.75},{type:"main",widthRatio:1/15.75,position:10.25/15.75},{type:"main",widthRatio:.75/15.75,position:11.25/15.75,color:"#d3d3d3"},{type:"main",widthRatio:1/15.75,position:12/15.75,color:"#999999"},{type:"main",widthRatio:1/15.75,position:13/15.75},{type:"main",widthRatio:1/15.75,position:14/15.75,color:"#999999"},{type:"main",widthRatio:.75/15.75,position:15/15.75,color:"#d3d3d3"}],Mt=[0,99,151,204,303,355,408,498,597,649,702,801,853,906,996,1095,1147],_t=[0,90,180,204,294,384,408,498,588,678,702,792,882,906,996,1086,1177],Lt=[0,100,150,200,300,350,400,500,600,650,700,800,850,900,1e3,1100,1150],qt=[0,100,150,200,300,367,400,500,600,667,700,800,867,900,1e3,1100,1150],Dt=[0,6,12,18,24,30,36,42,48,54,60,66],Kt=[0,4,9,13,18,22,27,31,35,40,44,49],Vt=[0,8,18,26,36,44,54,62,70,80,88,98],Ft=[{name:"72-TET",description:"Western 12-TET scale further subdivided 6 times. Since 72 is divisible by 1, 2, 3, 4, 6, 8, 9, 12, 18, 24, 36, and 72, 72-TET includes all those equal temperaments.",keys:Pt.map((function(t,e){return Object(At.a)({pitch:1200*Dt[e]/72,step:Dt[e]},t)})),switchInterval:1200/72},{name:"53-TET",description:"Used to describe the intervals of Classical Turkish Music according to the Arel-Ezgi-Uzdilek System, although discrepancies have been observed between theory and practice. This temperament is known to approximate Pythagorean tuning very closely, and the default places of the switches are equivalent to an A-based Pythagorean tuning.",keys:Pt.map((function(t,e){return Object(At.a)({pitch:1200*Kt[e]/53,step:Kt[e]},t)})),switchInterval:1200/53},{name:"106-TET",description:"A two-fold division of 53-TET.",keys:Pt.map((function(t,e){return Object(At.a)({pitch:1200*Vt[e]/106,step:Vt[e]},t)})),switchInterval:1200/106},{name:"Traditional Baglama Scale",description:"As reported by Tura.",keys:Tt.map((function(t,e){return Object(At.a)({pitch:Mt[e]},t)})),switchInterval:10},{name:"Urmawi's 17-tone Pythagorean Scale",description:"As described in Kitab al-Adwar.",keys:Tt.map((function(t,e){return Object(At.a)({pitch:_t[e]},t)})),switchInterval:10},{name:"24-TET Baglama Scale",description:"A 24-TET modification of the Baglama scale according to contemporary practice.",keys:Tt.map((function(t,e){return Object(At.a)({pitch:Lt[e]},t)})),switchInterval:10},{name:"72-TET Baglama Scale",description:"Similar to 24-TET Baglama Scale, but certain frets are modified to produce the traditional mujannab interval.",keys:Tt.map((function(t,e){return Object(At.a)({pitch:qt[e]},t)})),switchInterval:10}],Ut=.1,Wt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={config:{instrumentName:"acoustic_guitar_steel",tuning:Ft[0],noteRange:{first:et.fromNote("g2"),last:et.fromNote("f5")},keyboardShortcutOffset:0,showSteps:!1,showCents:!0,showFrequencies:!1},oscillator:null},n.oscillator=new xt({audioContext:jt,gain:Ut}),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=pt.create({firstNote:this.state.config.noteRange.first+this.state.config.keyboardShortcutOffset,lastNote:this.state.config.noteRange.last+this.state.config.keyboardShortcutOffset,keyboardConfig:pt.DOUBLE_ROW});return o.a.createElement(St,{audioContext:this.props.audioContext,instrumentName:this.state.config.instrumentName,hostname:this.props.soundfontHostname,render:function(n){var a=n.isLoading,i=n.playNote,r=n.stopNote,s=n.stopAllNotes;return o.a.createElement("div",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("p",{className:""},"Try it by clicking, tapping, or using your keyboard:"),o.a.createElement("div",{style:{color:"#777"}},o.a.createElement(dt.a,{size:32}))),o.a.createElement("div",{className:"mt-4 disable-select disable-touch"},o.a.createElement(yt,null,(function(n){var s=n.containerWidth;return o.a.createElement(ut,{noteRange:t.state.config.noteRange,tuning:t.state.config.tuning,keyboardShortcuts:e,disabled:a,playNote:function(e){console.log("Starting",e);var n=et.getMidiNumberForNote(e[0],e[1],t.state.config.tuning);i(n),i(n+12)},stopNote:function(e){console.log("Stopping",e);var n=et.getMidiNumberForNote(e[0],e[1],t.state.config.tuning);r(n),r(n+12)},showSteps:t.state.config.showSteps,showCents:t.state.config.showCents,showFrequencies:t.state.config.showFrequencies,width:s,gain:Ut})}))),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-lg-8 offset-lg-2"},o.a.createElement(bt,{hostname:t.props.soundfontHostname,render:function(n){return o.a.createElement(Ct,{config:t.state.config,setConfig:function(e){t.setState({config:Object.assign({},t.state.config,e)}),s()},instrumentList:n||[t.state.config.instrumentName],tuningList:Ft,keyboardShortcuts:e})}}))))}})}}]),e}(o.a.Component),Bt=n(27),Ht=(n(64),{56:-2,63:-2}),zt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).setPlaying=function(t){n.setState({isPlaying:t})},n.state={activeNotesIndex:0,isPlaying:!1,stopAllNotes:function(){return console.warn("stopAllNotes not yet loaded")},initialSwitchValues:Ht},n.playbackIntervalFn=null,n.piano=o.a.createRef(),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){var n=this;e.isPlaying!==this.state.isPlaying&&(this.state.isPlaying?this.playbackIntervalFn=setInterval((function(){n.setState({activeNotesIndex:(n.state.activeNotesIndex+1)%n.props.song.length})}),80):(clearInterval(this.playbackIntervalFn),this.state.stopAllNotes(),this.setState({activeNotesIndex:0})))}},{key:"render",value:function(){var t=this,e={first:et.fromNote("c3"),last:et.fromNote("f5")},n=Ft[0];return o.a.createElement("div",null,o.a.createElement("div",{className:"text-center"},o.a.createElement("h2",null,"Can you hear the difference?"),o.a.createElement("p",null,"Microtones can help composers add more emotional depth to songs.",o.a.createElement("br",null)," Try to hear the difference in the popular Anatolian folk song"," ",o.a.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=2cGANgDZPj8"},"Kara Toprak by A\u015f\u0131k Veysel")," ","with and without microtones:"),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-outline-info mr-3",onClick:function(){t.setState({initialSwitchValues:{}}),t.setPlaying(!0)},hidden:this.state.isPlaying},this.state.isPlaying?"Stop":"Play without microtones"),o.a.createElement("button",{className:"btn btn-outline-info",onClick:function(){t.setState({initialSwitchValues:Ht}),t.setPlaying(!0)},hidden:this.state.isPlaying},this.state.isPlaying?"Stop":"Play with microtones"),o.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){t.setPlaying(!1)},hidden:!this.state.isPlaying},"Stop"))),o.a.createElement("div",{className:"mt-4"},o.a.createElement(St,{audioContext:this.props.audioContext,instrumentName:"acoustic_guitar_steel",hostname:this.props.soundfontHostname,onLoad:function(e){var n=e.stopAllNotes;return t.setState({stopAllNotes:n})},render:function(a){var i=a.isLoading,r=a.playNote,s=a.stopNote;a.stopAllNotes;return o.a.createElement(yt,null,(function(a){var c=a.containerWidth;return o.a.createElement(ut,{activeNotes:t.state.isPlaying?t.props.song[t.state.activeNotesIndex]:[],noteRange:e,tuning:n,width:c,initialSwitchValues:t.state.initialSwitchValues,playNote:function(t){var e=et.getMidiNumberForNote(t[0],t[1],n);r(e),r(e+12)},stopNote:function(t){var e=et.getMidiNumberForNote(t[0],t[1],n);s(e),s(e+12)},showCents:!0,disabled:i,ref:t.piano})}))}})),o.a.createElement("div",{className:"text-center"},o.a.createElement("p",{className:"mt-5"},"You can listen to the instrumental arrangement by"," ",o.a.createElement("a",{target:"_blank",href:"https://tolgahancogulu.com/"},"Tolgahan \xc7o\u011fulu")," ","and"," ",o.a.createElement("a",{target:"_blank",href:"https://www.sinancemeroglu.com/"},"Sinan Cem Ero\u011flu")," ","on YouTube:"),o.a.createElement(Bt.a,{iframeClassName:"video-container",videoId:"vvSHpxwxVkM",style:{display:"block",margin:"0 auto"},opts:{height:"280",width:"480"}})))}}]),e}(o.a.Component),Gt=[[65],[69],[71],[],[65],[69],[71],[],[65],[69],[71],[76],[74],[],[71],[72],[71],[67],[64],[],[],[],[],[62],[64],[67],[64],[],[],[],[],[]];Gt=Gt.map((function(t){return t.map((function(t){return t-12}))}));var Qt=[[66],[66],[66],[],[66],[66],[66],[66],[64],[64],[64],[],[64],[64],[64],[64],[63],[63],[63],[63],[64],[64],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[],[66],[66],[66],[66],[66],[66],[64],[64],[64],[64],[64],[],[64],[64],[64],[],[63],[63],[63],[63],[63],[63],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[],[66],[66],[66],[],[66],[66],[66],[],[64],[64],[64],[],[64],[64],[64],[],[63],[63],[63],[63],[64],[64],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[],[66],[66],[66],[66],[66],[66],[64],[64],[64],[64],[64],[],[64],[64],[64],[],[63],[63],[63],[63],[63],[63],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[61],[],[64],[64],[64],[],[64],[64],[63],[63],[64],[64],[64],[],[64],[64],[63],[63],[64],[64],[64],[64],[64],[64],[59],[59],[59],[59],[59],[59],[59],[59],[59],[59],[59],[],[61],[61],[61],[61],[57],[57],[57],[57],[59],[59],[59],[59],[57],[57],[57],[],[57],[57],[56],[56],[56],[],[56],[56],[54],[54],[54],[54],[54],[54],[54],[54],[54],[],[61],[61],[61],[61],[57],[57],[57],[57],[59],[59],[59],[59],[57],[57],[57],[],[57],[57],[56],[56],[56],[],[56],[56],[54],[54],[54],[54],[54],[54],[54],[54],[54],[],[56],[56],[57],[57],[59],[59],[59],[],[59],[59],[59],[],[59],[59],[59],[],[59],[59],[59],[59],[59],[],[56],[56],[57],[57],[56],[56],[54],[54],[54],[54],[57],[57],[57],[57],[],[56],[],[56],[56],[56],[56],[56],[56],[56],[],[56],[56],[56],[56],[56],[],[54],[],[54],[54],[54],[54],[51],[51],[52],[52],[54],[54],[54],[54],[54],[],[54],[],[54],[54],[54],[],[51],[51],[52],[52],[54],[54],[54],[54],[54],[54],[54],[54],[],[],[],[],[],[],[],[],[],[]],Yt=(n(78),new(window.AudioContext||window.webkitAudioContext));function Jt(){return o.a.createElement("div",{className:"text-center"},o.a.createElement("h2",null,"What is this?"),o.a.createElement("p",null,"A browser-based Piano for trying out various microtonal scales from around the world.",o.a.createElement("br",null),"Set the keys to different tunings and adjust the microtones using the switches that correspond to each key."))}var Xt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(h,null),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"mt-5 disable-select-mobile"},o.a.createElement(Wt,{audioContext:Yt,soundfontHostname:"https://d1pzp51pvbm36p.cloudfront.net"})),o.a.createElement("hr",{className:"mt-5"}),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col"},o.a.createElement(Jt,null))),o.a.createElement("hr",{className:"mt-5"}),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-md-8 offset-md-2"},o.a.createElement(zt,{audioContext:Yt,soundfontHostname:"https://d1pzp51pvbm36p.cloudfront.net",song:Qt})))),o.a.createElement(d,null))}}]),e}(o.a.Component),Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $t(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}r.a.render(o.a.createElement(Xt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/microtonal-piano",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/microtonal-piano","/service-worker.js");Zt?(!function(t){fetch(t).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):$t(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):$t(t)}))}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.ca091a48.chunk.js.map